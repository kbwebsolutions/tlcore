define(["jquery"],function(a){var b=function(b){var c=this;this.selector=null,this.overlay=null,this.interval=null,this.overlayFs=!1,this.positionOverlay=function(){var b=a(c.selector),d=this.overlay;a(d).css("width",b.width()+"px"),a(d).css("height",b.height()+"px");var e=b.offset();a(d).css("top",e.top+"px"),a(d).css("left",e.left+"px")},this.applyOverlay=function(b){if(b||(b="body",this.overlayFs=!0),!a(b+" .ajax-overlay").length){c.selector=b,c.overlay=a('<div class="ajax-overlay"></div>');var d=a(b);"relative"===d.css("position")||this.overlayFs?(a(d).append(c.overlay),c.overlay.addClass("ajax-overlay-within"),c.overlay.css("opacity",1),this.overlayFs&&c.overlay.addClass("ajax-overlay-fs")):(a(document.body).append(c.overlay),c.positionOverlay(),c.overlay.css("opacity",1),this.interval=window.setInterval(function(){c.positionOverlay()},1e3))}},this.applyOverlay(b),this.removeOverlay=function(){null!==c.interval&&clearInterval(c.interval),a(c.selector+" .ajax-overlay").remove()}};return{applyOverlay:function(a){return new b(a)}}});